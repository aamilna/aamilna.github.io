<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>AaMilNa â€¢ Artisan Dashboard</title>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,500;1,600&family=Poppins:wght@300;400;500&display=swap" rel="stylesheet">
<style>
*{margin:0;padding:0;box-sizing:border-box;}
body{font-family:'Poppins',sans-serif;background:#fff7f0;color:#4a3b47;overflow-x:hidden;}

/* Background Bubbles */
.bubble-bg{position:fixed;inset:0;z-index:-1;}
.bubble{position:absolute;width:260px;height:260px;border-radius:50%;background:radial-gradient(circle at top left,rgba(255,255,255,.9),rgba(255,220,230,.45),rgba(200,150,170,.25));animation:float 30s infinite ease-in-out;}
.bubble::after{content:"ðŸŒ¸";display:flex;align-items:center;justify-content:center;height:100%;font-size:70px;opacity:.35;}
.bubble:nth-child(1){top:8%;left:6%;}
.bubble:nth-child(2){top:55%;left:70%;}
.bubble:nth-child(3){top:30%;left:40%;}
@keyframes float{50%{transform:translateY(-60px);}}

/* Header */
header{display:flex;justify-content:space-between;align-items:center;padding:22px 50px;background:rgba(255,255,255,.85);backdrop-filter:blur(8px);}
header img{height:90px;}
header button{background:#d8a7a0;border:none;padding:10px 22px;border-radius:30px;cursor:pointer;font-weight:500;transition:.3s;}
header button:hover{opacity:.85;}

/* Dashboard */
.dashboard{max-width:1300px;margin:120px auto 80px;padding:0 30px;}
h1{font-family:'Playfair Display',serif;font-style:italic;font-size:46px;margin-bottom:30px;}

/* Profile Box */
.profileBox{display:flex;gap:25px;align-items:center;background:white;padding:25px;border-radius:25px;box-shadow:0 15px 35px rgba(0,0,0,.08);}
.avatar{width:100px;height:100px;border-radius:50%;object-fit:cover;border:4px solid #d8a7a0;}
.editProfile{margin-top:10px;background:#d8a7a0;border:none;padding:8px 18px;border-radius:20px;font-size:13px;cursor:pointer;}

/* Products scroll */
.products{display:flex;gap:25px;margin-top:25px;overflow-x:scroll;overflow-y:hidden;padding-bottom:10px;scrollbar-width:thin;scrollbar-color:#d8a7a0 rgba(0,0,0,0.05);}
.products::-webkit-scrollbar{height:10px;}
.products::-webkit-scrollbar-thumb{background:#d8a7a0;border-radius:10px;}
.products::-webkit-scrollbar-track{background:rgba(0,0,0,0.05);}
.product{background:#fff;padding:18px;border-radius:22px;box-shadow:0 12px 30px rgba(0,0,0,.1);transition:.3s;min-width:260px;flex-shrink:0;}
.product:hover{transform:translateY(-5px);}
.product img{width:100%;height:170px;object-fit:cover;border-radius:16px;margin-bottom:10px;}
.product h4{margin-bottom:5px;}
.product-price{display:flex;align-items:center;margin-bottom:6px;font-size:14px;}
.product-price span{font-weight:500;margin-right:6px;color:#555;line-height:1.2;}
.product-status{font-size:12px;color:#b96a6a;margin-bottom:6px;}
.product-likes{font-size:12px;color:#4a3b47;margin-bottom:6px;}
.controls{display:flex;gap:8px;margin-top:10px;}
.controls button{flex:1;padding:7px;border-radius:14px;border:none;cursor:pointer;font-size:13px;}
.edit{background:#d8a7a0;}
.delete{background:#b96a6a;color:white;}
.addBtn{margin-top:20px;background:#d8a7a0;border:none;padding:10px 20px;border-radius:22px;cursor:pointer;}

/* Orders Table */
.orders{margin-top:50px;background:white;padding:25px;border-radius:25px;box-shadow:0 15px 35px rgba(0,0,0,.08);overflow-x:auto;}
.orders h3{margin-bottom:20px;}
.orders table{width:100%;border-collapse:collapse;min-width:900px;}
.orders th, .orders td{padding:12px 15px;border-bottom:1px solid #eee;text-align:left;font-size:14px;}
.orders th{background:#f5d4d1;border-radius:6px;}
.orders tr:hover{background:#fdf0ee;}
.completeBtn{background:#a0d87e;border:none;padding:6px 12px;border-radius:14px;cursor:pointer;font-size:12px;}
.viewBtn{background:#4a90e2;color:white;border:none;padding:6px 12px;border-radius:14px;cursor:pointer;font-size:12px;}

/* Delivery Charges */
.deliveryBox{margin-top:50px;background:white;padding:25px;border-radius:25px;box-shadow:0 15px 35px rgba(0,0,0,.08);}
.deliveryBox h3{margin-bottom:20px;}
.deliveryBox .province{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px;}
.deliveryBox input{width:120px;padding:6px;border-radius:12px;border:1px solid #ddd;font-family:'Poppins';}
.saveDelivery{margin-top:12px;background:#d8a7a0;border:none;padding:10px 20px;border-radius:22px;cursor:pointer;font-size:14px;}

/* EasyPaisa */
.easypaisaBox{margin-top:50px;background:white;padding:25px;border-radius:25px;box-shadow:0 15px 35px rgba(0,0,0,.08);}
.easypaisaBox h3{margin-bottom:10px;}
.easypaisaBox small{color:#b96a6a;display:block;margin-bottom:10px;}
.easypaisaBox input{width:100%;padding:8px;margin-bottom:10px;border-radius:12px;border:1px solid #ddd;font-family:'Poppins';}
.saveEasypaisa{background:#d8a7a0;border:none;padding:10px 20px;border-radius:22px;cursor:pointer;font-size:14px;}

/* Modals */
.modal{position:fixed;inset:0;background:#00000066;display:none;align-items:center;justify-content:center;}
.modalContent{background:white;padding:30px;border-radius:26px;width:420px;position:relative;animation:fadeIn .3s ease;}
@keyframes fadeIn{from{opacity:0;transform:translateY(20px);}to{opacity:1;transform:translateY(0);} }
.modalContent input,.modalContent textarea,.modalContent select{width:100%;margin-bottom:12px;padding:10px;border-radius:12px;border:1px solid #ddd;font-family:'Poppins';box-sizing:border-box;}
.modalContent button{background:#d8a7a0;border:none;padding:10px;border-radius:18px;width:100%;cursor:pointer;}
.closeBtn{position:absolute;top:12px;right:16px;font-size:22px;cursor:pointer;color:#b96a6a;}

/* Price input */
.priceWrapper{position:relative;margin-bottom:12px;}
.priceWrapper span{position:absolute;left:12px;top:50%;transform:translateY(-50%);color:#555;font-weight:500;}
#prodPrice{padding-left:45px;}

/* Image preview */
.previewImg{width:80px;height:80px;object-fit:cover;border-radius:12px;margin:5px;border:2px solid #d8a7a0;}
.previewContainer{display:flex;flex-wrap:wrap;margin-bottom:10px;}
.loading{text-align:center;margin-top:20px;font-size:14px;opacity:.7;}
.successMsg{margin-top:10px;font-size:14px;color:green;display:none;text-align:center;}
</style>
</head>
<body>

<div class="bubble-bg">
  <div class="bubble"></div>
  <div class="bubble"></div>
  <div class="bubble"></div>
</div>

<header>
<img src="logo.png" alt="AaMilNa Logo">
<button onclick="logout()">Logout</button>
</header>

<section class="dashboard">
<h1>Artisan Dashboard</h1>

<!-- Profile -->
<div class="profileBox">
<img id="avatar" class="avatar" alt="Profile Avatar">
<div>
<strong id="pName"></strong><br>
<small id="pBio"></small><br>
<button class="editProfile" onclick="profileModal.style.display='flex'">Edit Profile</button>
<div style="font-size:12px;color:#888;margin-top:4px;">Recommended: 150x150 px</div>
<div id="profileMsg" class="successMsg"></div>
</div>
</div>

<!-- EasyPaisa -->
<div class="easypaisaBox">
<h3>EasyPaisa Account Details</h3>
<small>Policy: Customer must pay 50% upfront to avoid scams</small>
<input type="text" id="epName" placeholder="Account Holder Name">
<input type="text" id="epNumber" placeholder="Account Number">
<input type="email" id="epEmail" placeholder="Artisan Gmail (for verification)">
<button class="saveEasypaisa" onclick="saveEasyPaisa()">Save EasyPaisa Details</button>
<div id="epMsg" class="successMsg"></div>
</div>

<!-- Products -->
<h3 style="margin-top:40px;">Your Products</h3>
<button class="addBtn" onclick="openProduct()">+ Add Product</button>
<div class="products" id="productList"></div>
<div id="productMsg" class="successMsg"></div>

<!-- Orders -->
<h3 style="margin-top:60px;">Incoming Orders</h3>
<div class="orders">
<table id="orderTable">
<thead>
<tr>
<th>Product</th>
<th>Image</th>
<th>Customer Name</th>
<th>Phone</th>
<th>Email</th>
<th>Address</th>
<th>Quantity</th>
<th>Status</th>
<th>Action</th>
</tr>
</thead>
<tbody></tbody>
</table>
<div id="orderMsg" class="successMsg"></div>
</div>

<!-- Delivery Charges -->
<div class="deliveryBox">
<h3>Delivery Charges (PKR)</h3>
<div class="province">Islamabad <input type="number" id="del-Islamabad" placeholder="0"></div>
<div class="province">Punjab <input type="number" id="del-Punjab" placeholder="0"></div>
<div class="province">Sindh <input type="number" id="del-Sindh" placeholder="0"></div>
<div class="province">Khyber Pakhtunkhwa <input type="number" id="del-KhyberPakhtunkhwa" placeholder="0"></div>
<div class="province">Balochistan <input type="number" id="del-Balochistan" placeholder="0"></div>
<div class="province">Gilgit Baltistan <input type="number" id="del-GilgitBaltistan" placeholder="0"></div>
<div class="province">Azad Jammu and Kashmir <input type="number" id="del-AJK" placeholder="0"></div>
<button class="saveDelivery" onclick="saveDeliveryCharges()">Save Delivery Charges</button>
<div id="deliveryMsg" class="successMsg"></div>
</div>

<!-- Modals -->
<div class="modal" id="profileModal">
<div class="modalContent">
<span class="closeBtn" onclick="profileModal.style.display='none'">&times;</span>
<input id="nameInput" placeholder="Your name">
<textarea id="bioInput" placeholder="Your bio"></textarea>
<input type="file" accept="image/*" onchange="loadAvatar(event)">
<button onclick="saveProfile()">Save Changes</button>
</div>
</div>

<div class="modal" id="productModal">
<div class="modalContent">
<span class="closeBtn" onclick="productModal.style.display='none'">&times;</span>
<input id="prodName" placeholder="Product name">
<textarea id="prodDesc" placeholder="Product description"></textarea>
<div class="priceWrapper">
  <span>PKR</span>
  <input id="prodPrice" type="number" placeholder="Enter price">
</div>
<select id="prodCategory">
<option value="">Select Category</option>
<option value="crochet">Crochet</option>
<option value="jewelry">Jewelry</option>
<option value="stationery">Stationery</option>
<option value="textile">Textile Arts</option>
<option value="art">Art & Illustration</option>
<option value="decor">Home & Decor</option>
<option value="edible">Edible Art</option>
<option value="selfcare">Self Care</option>
<option value="custom">Custom & Personalized</option>
<option value="tote">Embroidered Tote Bag</option>
</select>
<div>
<label>Upload up to 5 images:</label>
<input type="file" accept="image/*" multiple onchange="uploadImages(event)">
<div class="previewContainer" id="previewContainer"></div>
</div>
<div style="margin-bottom:12px;">
<label>Status:</label>
<select id="prodStatus">
<option value="open">Open</option>
<option value="closed">Temporarily Closed</option>
</select>
</div>
<button onclick="saveProduct()">Save Product</button>
<div id="uploadingMsg" class="loading"></div>
</div>
</div>

<script>
/* ---------- Utilities ---------- */
function showMessage(id,msg){
  const el=document.getElementById(id);
  el.textContent=msg; el.style.display='block';
  setTimeout(()=>{el.style.display='none';},2500);
}
function logout(){alert("Logged out!"); location.reload();}

/* ---------- Profile ---------- */
let currentAvatar = "";
function loadProfile(){
  const profile = JSON.parse(localStorage.getItem('profile')) || {name:"Artisan", bio:"Handmade creator", avatar:"https://via.placeholder.com/150"};
  document.getElementById('avatar').src = profile.avatar;
  document.getElementById('pName').textContent = profile.name;
  document.getElementById('pBio').textContent = profile.bio;
  document.getElementById('nameInput').value = profile.name;
  document.getElementById('bioInput').value = profile.bio;
}
function loadAvatar(e){
  const reader = new FileReader();
  reader.onload = ()=>{currentAvatar=reader.result; document.getElementById('avatar').src=currentAvatar;}
  reader.readAsDataURL(e.target.files[0]);
}
function saveProfile(){
  const profile={name:document.getElementById('nameInput').value.trim()||"Artisan", bio:document.getElementById('bioInput').value.trim()||"Handmade creator", avatar:currentAvatar||document.getElementById('avatar').src};
  localStorage.setItem('profile', JSON.stringify(profile));
  loadProfile();
  showMessage('profileMsg','Profile updated!');
  profileModal.style.display='none';
}

/* ---------- EasyPaisa ---------- */
function loadEasyPaisa(){
  const ep=JSON.parse(localStorage.getItem('easyPaisa'))||{name:'',number:'',email:''};
  document.getElementById('epName').value=ep.name;
  document.getElementById('epNumber').value=ep.number;
  document.getElementById('epEmail').value=ep.email;
}
function saveEasyPaisa(){
  const ep={name:document.getElementById('epName').value.trim(), number:document.getElementById('epNumber').value.trim(), email:document.getElementById('epEmail').value.trim()};
  if(!ep.name||!ep.number||!ep.email){alert("All EasyPaisa fields required!"); return;}
  localStorage.setItem('easyPaisa', JSON.stringify(ep));
  showMessage('epMsg','EasyPaisa saved!');
}

/* ---------- Products ---------- */
let editIndex = null, currentImages=[];
function loadProducts(){
  const products = JSON.parse(localStorage.getItem('products'))||[];
  const container=document.getElementById('productList');
  container.innerHTML="";
  if(!products.length){container.innerHTML="<div class='loading'>No products yet.</div>"; return;}
  products.forEach((p,i)=>{
    const div=document.createElement('div'); div.className='product';
    div.innerHTML=`<img src="${p.images[0]||'https://via.placeholder.com/300'}">
    <h4>${p.name}</h4>
    <div class="product-price"><span>PKR</span>${p.price}</div>
    <div class="product-status">Status: ${p.status}</div>
    <div class="product-likes">Likes: ${p.likes||0}</div>
    <div class="controls">
      <button class="edit" onclick="openProduct(${i})">Edit</button>
      <button class="delete" onclick="deleteProduct(${i})">Delete</button>
    </div>`;
    container.appendChild(div);
  });
}

function openProduct(i=null){
  editIndex=i;
  const products=JSON.parse(localStorage.getItem('products'))||[];
  if(i!==null){
    const p=products[i];
    document.getElementById('prodName').value=p.name;
    document.getElementById('prodDesc').value=p.description;
    document.getElementById('prodPrice').value=p.price;
    document.getElementById('prodCategory').value=p.category;
    document.getElementById('prodStatus').value=p.status;
    currentImages=p.images||[];
  } else {document.getElementById('prodName').value=''; document.getElementById('prodDesc').value=''; document.getElementById('prodPrice').value=''; document.getElementById('prodCategory').value=''; document.getElementById('prodStatus').value='open'; currentImages=[];}
  document.getElementById('previewContainer').innerHTML=currentImages.map(img=>`<img src="${img}" class="previewImg">`).join('');
  productModal.style.display='flex';
}

function saveProduct(){
  const p={name:document.getElementById('prodName').value.trim(), description:document.getElementById('prodDesc').value.trim(), price:parseInt(document.getElementById('prodPrice').value)||0, category:document.getElementById('prodCategory').value, status:document.getElementById('prodStatus').value, images:currentImages, likes:0};
  if(!p.name){alert("Product name required!"); return;}
  const products=JSON.parse(localStorage.getItem('products'))||[];
  if(editIndex!==null) products[editIndex]=p; else products.push(p);
  localStorage.setItem('products', JSON.stringify(products));
  loadProducts();
  showMessage('productMsg','Product saved!');
  productModal.style.display='none';
}

function deleteProduct(i){
  if(!confirm("Delete this product?")) return;
  const products=JSON.parse(localStorage.getItem('products'))||[];
  products.splice(i,1);
  localStorage.setItem('products', JSON.stringify(products));
  loadProducts();
}

function uploadImages(e){
  const files=Array.from(e.target.files).slice(0,5);
  const container=document.getElementById('previewContainer'); container.innerHTML=''; currentImages=[];
  files.forEach(f=>{
    const reader=new FileReader();
    reader.onload=()=>{currentImages.push(reader.result); const img=document.createElement('img'); img.src=reader.result; img.className='previewImg'; container.appendChild(img);}
    reader.readAsDataURL(f);
  });
}

/* ---------- Orders ---------- */
function loadOrders(){
  const orders = JSON.parse(localStorage.getItem('orders'))||[{id:1,product:"Sample Product",image:"https://via.placeholder.com/80",qty:2,customerName:"Ali Khan",phone:"03001234567",email:"ali@example.com",address:"123 Street, Lahore",status:"Pending"}];
  localStorage.setItem('orders',JSON.stringify(orders));
  const tbody=document.querySelector('#orderTable tbody'); tbody.innerHTML='';
  orders.forEach((o,i)=>{
    const tr=document.createElement('tr');
    tr.innerHTML=`<td>${o.product}</td><td><img src="${o.image}" width="60"></td><td>${o.customerName}</td><td>${o.phone}</td><td>${o.email}</td><td>${o.address}</td><td>${o.qty}</td><td>${o.status}</td><td>${o.status!=="Completed"?`<button class="completeBtn" onclick="markComplete(${i})">Complete</button>`:""} <button class="viewBtn" onclick="viewOrder(${i})">View</button></td>`;
    tbody.appendChild(tr);
  });
}

function markComplete(i){
  const orders=JSON.parse(localStorage.getItem('orders'))||[];
  orders[i].status='Completed';
  localStorage.setItem('orders', JSON.stringify(orders));
  loadOrders();
}

function viewOrder(i){
  const orders=JSON.parse(localStorage.getItem('orders'))||[];
  const o=orders[i];
  alert(`Order Details:\nProduct: ${o.product}\nQty: ${o.qty}\nCustomer: ${o.customerName}\nPhone: ${o.phone}\nEmail: ${o.email}\nAddress: ${o.address}\nStatus: ${o.status}`);
}

/* ---------- Delivery Charges ---------- */
function loadDeliveryCharges(){
  const charges=JSON.parse(localStorage.getItem('deliveryCharges'))||{};
  ["Islamabad","Punjab","Sindh","KhyberPakhtunkhwa","Balochistan","GilgitBaltistan","AJK"].forEach(p=>{
    document.getElementById(`del-${p}`).value = charges[p] !== undefined ? charges[p] : 0;
  });
}

function saveDeliveryCharges(){
  const charges={};
  ["Islamabad","Punjab","Sindh","KhyberPakhtunkhwa","Balochistan","GilgitBaltistan","AJK"].forEach(p=>{
    charges[p]=parseInt(document.getElementById(`del-${p}`).value)||0;
  });
  localStorage.setItem('deliveryCharges', JSON.stringify(charges));
  showMessage('deliveryMsg','Delivery charges saved!');
}

/* ---------- Initial Load ---------- */
loadProfile();
loadEasyPaisa();
loadProducts();
loadOrders();
loadDeliveryCharges();
</script>
</body>
</html>





















































































